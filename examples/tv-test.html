<!DOCTYPE html>
<html>
<head>
  <script src="../jspsych.js"></script>
  <script src="../plugins/jspsych-html-keyboard-response.js"></script>
  <link rel="stylesheet" href="../css/jspsych.css"></link>
</head>
<body></body>
<script>
  var trial = {
      type: 'html-keyboard-response',
      stimulus: 'foo'
    }

    var trial2 = {
      type: 'html-keyboard-response',
      stimulus: jsPsych.timelineVariable('word')
    }

    var innertimeline = {
      timeline: [trial],
      conditional_function: function(){
        if(jsPsych.timelineVariable('word', true) == 'b'){
          return false;
        } else {
          return true;
        }
      }
    }

    var outertimeline = {
      timeline: [trial2, innertimeline],
      timeline_variables: [
        {word: 'a'},
        {word: 'b'},
        {word: 'c'}
      ]
    }

    jsPsych.init({
      timeline: [outertimeline]
    });
</script>

</html>
